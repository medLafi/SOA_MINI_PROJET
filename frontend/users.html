<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Liste des utilisateurs</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Liste des utilisateurs</h1>

<table id="usersTable">
  <thead>
    <tr>
      <th>ID</th>
      <th>Login</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>


<button id="goServicesBtn">Afficher les services</button>

<script>
async function loadUsers() {
  try {
    let res = await fetch("http://localhost:3000/users");
    let users = await res.json();
    const tbody = document.querySelector("#usersTable tbody");
    tbody.innerHTML = users.map(u => `<tr><td>${u.id}</td><td>${u.login}</td></tr>`).join("");
  } catch(err) {
    console.error(err);
    alert("Impossible de récupérer les utilisateurs.");
  }
}

loadUsers();

document.getElementById("goServicesBtn").onclick = () => {
  window.location.href = "services.html";
};
</script>

</body>
</html>
